@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';
}

/* Drag & Drop Styles */

/* 드래그 핸들 기본 스타일 */
.drag-handle {
    opacity: 0.3;
    transition: opacity 0.2s ease, color 0.2s ease, transform 0.2s ease;
    color: #9ca3af; /* gray-400 */
    cursor: grab;
}

/* hover 시 드래그 핸들 강조 */
.drag-handle:hover {
    opacity: 1;
    color: #6b7280; /* gray-500 */
    transform: scale(1.1);
}

/* 드래그 핸들 active 시 커서 변경 */
.drag-handle:active {
    cursor: grabbing;
    color: #3b82f6; /* blue-500 */
}

/* 부모 hover 시에도 드래그 핸들 표시 */
.task-group-header:hover .drag-handle,
[data-tasklist-id]:hover .drag-handle {
    opacity: 0.6;
}

/* 드래그 중인 항목 (Ghost) */
.sortable-ghost {
    opacity: 0.4 !important;
    background: #f3f4f6 !important;
}

/* 드래그되는 실제 항목 */
.sortable-drag {
    opacity: 1 !important;
    background: #ffffff !important;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15), 0 0 0 2px #3b82f6 !important;
    cursor: grabbing !important;
    transform: rotate(2deg) scale(1.02) !important;
    transition: transform 0.2s ease !important;
    border-radius: 0.5rem !important;
}

/* 드롭 가능 영역 하이라이트 */
.sortable-drag-over {
    background: #eff6ff !important; /* blue-50 */
    border: 2px dashed #3b82f6 !important; /* blue-500 */
    border-radius: 0.5rem;
    transition: all 0.2s ease;
}

/* 드롭 가능 영역 (TaskGroup 내부) */
[data-task-group-content].sortable-drag-over {
    background: #eff6ff !important;
    border-left: 2px dashed #3b82f6 !important;
}

/* 모바일 최적화 */
@media (max-width: 640px) {
    .drag-handle {
        opacity: 1; /* 모바일에서는 항상 표시 */
        font-size: 1.25rem; /* 터치 영역 확대 */
    }

    .sortable-drag {
        transform: rotate(1deg) scale(1.05) !important;
    }
}

/* TaskGroup Accordion Slide Animation */
.task-group-content {
    overflow: hidden;
    transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
    max-height: 0;
    opacity: 0;
}

.task-group-content.expanded {
    max-height: 2000px; /* 충분히 큰 값 */
    opacity: 1;
}

/* Dropdown Menu Styles */
.dropdown-menu {
    animation: dropdown-fade-in 0.15s ease-out;
}

.dropdown-menu.show {
    display: block !important;
}

@keyframes dropdown-fade-in {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.dropdown-item {
    transition: background-color 0.15s ease;
}

/* Modal Styles */
.modal {
    animation: modal-fade-in 0.2s ease-out;
}

.modal.show {
    display: flex !important;
}

.modal-content {
    animation: modal-slide-up 0.2s ease-out;
}

@keyframes modal-fade-in {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes modal-slide-up {
    from {
        opacity: 0;
        transform: translateY(16px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Modal closing animation */
.modal.closing {
    animation: modal-fade-out 0.15s ease-in forwards;
}

.modal.closing .modal-content {
    animation: modal-slide-down 0.15s ease-in forwards;
}

@keyframes modal-fade-out {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

@keyframes modal-slide-down {
    from {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    to {
        opacity: 0;
        transform: translateY(16px) scale(0.95);
    }
}
